<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="referrer" content="no-referrer">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>f95list_viewer</title>

  <link rel="icon" href="/favicon.png" />
  <link rel="stylesheet" href="./viewer.css" />

  </head>
<body>

  <!-- âœ… SLUG universel (dÃ©tectÃ© via /<slug>/) -->
  <script>
    (function(){
      function detectSlug(){
        try{
          const forced = (window.__SITE_SLUG__ || "").toString().trim();
          if(forced) return forced.toLowerCase();
        }catch{}
        const segs = (location.pathname || "/").split("/").filter(Boolean);
        return String(segs[0] || "").trim().toLowerCase();
      }
      const slug = detectSlug();
      window.__SITE_SLUG__ = slug;

      // Titre + H1 universels (si on est sur viewer)
      const nice = slug ? (slug[0].toUpperCase() + slug.slice(1)) : "";
      document.title = slug ? `f95list_${nice}_viewer` : `f95list_viewer`;

      // Met Ã  jour le H1 plus tard (quand le DOM existe)
      window.addEventListener("DOMContentLoaded", () => {
        const h1 = document.getElementById("viewerTitle");
        if(h1){
          h1.textContent = slug ? `f95list_${nice}_viewer` : `f95list_viewer`;
        }
        const back = document.getElementById("backToList");
        if(back){
          back.href = slug ? `/${slug}/` : `/`;
        }
      });
    })();
  </script>

  <!-- PAGE VIEWER -->
  <div id="page-viewer">

    <!-- ğŸ” AGE GATE -->
    <div id="age-gate" style="display:none;">
      <div class="age-box">
        <h2>ğŸ” Contenu rÃ©servÃ© aux adultes</h2>
        <p>
          Ce site contient des images et contenus destinÃ©s Ã  un public majeur.<br>
          En continuant, vous confirmez avoir <strong>18 ans ou plus</strong>.
        </p>

        <button id="age-yes">Jâ€™ai 18 ans</button>
        <button id="age-no">Quitter</button>
      </div>
    </div>

    <header class="topbar" role="banner">
      <div class="top-title-row top-title-flex">
        <!-- âœ… id unique (viewer) -->
        <button id="hamburgerBtnViewer" class="hamburger-btn" type="button"
                aria-label="Menu" title="Menu" aria-expanded="false">
          <span class="ham-lines" aria-hidden="true"><span></span><span></span><span></span></span>
        </button>

        <h1 id="viewerTitle">f95list_viewer</h1>
        <div id="topTitleTools" class="top-title-tools"></div>
      </div>

      <div class="top-actions">
        <div class="search-wrap">
          <input id="search" type="search" placeholder="Rechercher un jeu." autocomplete="off" />
          <span class="stat-in-bar total-inline">Total : <strong id="countTotal">0</strong></span>
        </div>

        <select id="sort" title="Trier">
          <option value="updatedAtLocal-desc">Date de la traduction</option>
          <option value="views-desc">ğŸ‘ï¸ Vues</option>
          <option value="likes-desc">â¤ï¸ J'aime</option>
          <option value="mega-desc">ğŸ“¥ TÃ©lÃ©chargements</option>
          <option value="title-asc">Titre Aâ†’Z</option>
          <option value="title-desc">Titre Zâ†’A</option>
          <option value="updatedAt-desc">Date Thread F95 (Maj)</option>
        </select>

        <select id="filterCat" title="CatÃ©gorie">
          <option value="all">CatÃ©gorie : Toutes</option>
          <option value="VN">VN</option>
          <option value="Collection">Collection</option>
        </select>

        <select id="filterEngine" title="Moteur">
          <option value="all">Moteur : Tous</option>
          <option value="Ren'Py">Ren'Py</option>
          <option value="RPGM">RPGM</option>
          <option value="Unity">Unity</option>
          <option value="Others">Others</option>
          <option value="Wolf RPG">Wolf RPG</option>
        </select>

        <select id="filterStatus" title="Statut">
          <option value="all">Statut : Tous</option>
          <option value="Completed">Completed</option>
          <option value="Abandoned">Abandoned</option>
          <option value="Onhold">Onhold</option>
          <option value="En cours">En cours</option>
        </select>

        <button id="tagsBtn" type="button" class="tags-btn" aria-haspopup="menu" aria-expanded="false">
          ğŸ·ï¸ Tags <span id="tagsCount" class="tags-count hidden">0</span>
        </button>

        <select id="cols" title="Vignettes par ligne">
          <option value="auto">Vignettes/ligne : Auto</option>
          <option value="1">1 par ligne</option>
          <option value="2">2 par ligne</option>
          <option value="3">3 par ligne</option>
          <option value="4">4 par ligne</option>
          <option value="5">5 par ligne</option>
          <option value="6">6 par ligne</option>
          <option value="7">7 par ligne</option>
          <option value="8">8 par ligne</option>
          <option value="9">9 par ligne</option>
          <option value="10">10 par ligne</option>
        </select>

        <select id="pageSize" title="Affichage progressif">
          <option value="50">Afficher par 50</option>
          <option value="100">Afficher par 100</option>
          <option value="all">Tout afficher</option>
        </select>

        <button id="refresh" type="button">RafraÃ®chir</button>
      </div>
    </header>

    <main role="main">
      <section id="gridMode" class="grid-wrap" aria-label="Vignettes des jeux">
        <div id="viewerAnnonceHost"></div>

        <div id="grid" class="grid"></div>
        <div id="gridEmpty" class="empty hidden">Aucun rÃ©sultat.</div>
      </section>

      <footer class="viewer-footer">
        ğŸ‘ï¸ Vues de la page : <strong id="mainViews">â€”</strong>
      </footer>
    </main>

  </div>

  <!-- PAGE JEU (mÃªme page, via ?id= / ?uid=) -->
  

  <!-- (page jeu supprimÃ©e : liste uniquement) -->

<script src="./viewer.js" defer></script>
  </body>
</html>
