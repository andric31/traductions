<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="referrer" content="no-referrer">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Traductions ‚Äî Multi-traducteurs</title>

  <!-- ‚úÖ Un seul th√®me (fixe) -->
  <script>
  (function(){
    try{
      // th√®me unique : sombre (sans s√©lecteur)
      document.documentElement.setAttribute('data-theme','dark');
    }catch{}
  })();
  </script>

  <link rel="icon" href="/favicon.png" />
  <link rel="stylesheet" href="./viewer.css?v=20260219-1" />
  <link rel="stylesheet" href="./themes.css?v=20260219-1" />
  <link rel="stylesheet" href="./game.css?v=20260219-1" />

  <style>
    html{ height:auto; overflow-y: scroll; }

    body.mode-game{
      margin:0;
      min-height:100dvh;
      overflow-y: visible;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding: 18px 0;
    }

    /* ‚úÖ En mode jeu : cache le viewer */
    body.mode-game #page-viewer{ display:none !important; }
    body.mode-game #page-game{ display:block !important; }

    /* ‚úÖ En mode viewer : cache la page jeu */
    body:not(.mode-game) #page-game{ display:none !important; }
    body:not(.mode-game) #page-viewer{ display:block !important; }

    /* === Game-mode (s√©lecteur traducteurs) === */
    #page-game .wrap{ width: 920px; max-width: 94vw; padding: 18px; }
    #page-game .cardPreview{ background: var(--card); border:1px solid var(--border); border-radius: 18px; overflow:hidden; box-shadow: 0 10px 40px rgba(0,0,0,.35); }
    #page-game .cardInner{ padding: 16px; }

    .tgrid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; margin-top: 12px; }
    .tcard{ display:flex; gap: 12px; align-items:center; padding: 12px; border-radius: 14px; border:1px solid var(--border); background: rgba(255,255,255,0.04); }
    .tavatar{ width:48px; height:48px; border-radius: 12px; object-fit: cover; border:1px solid rgba(255,255,255,0.15); background: rgba(255,255,255,0.06); }
    .tmeta{ flex:1; min-width: 0; }
    .tname{ font-weight: 700; overflow:hidden; text-overflow: ellipsis; white-space: nowrap; }
    .tline{ font-size: 12px; opacity: 0.85; margin-top: 2px; overflow:hidden; text-overflow: ellipsis; white-space: nowrap; }

    .tactions{ display:flex; gap: 8px; align-items:center; }
    .btn-mini{ border:1px solid var(--border); background: rgba(255,255,255,0.05); color: var(--text); padding: 8px 10px; border-radius: 12px; cursor:pointer; text-decoration:none; display:inline-flex; align-items:center; gap: 6px; }
    .btn-mini:hover{ filter: brightness(1.08); }

    .chips{ display:flex; flex-wrap:wrap; gap:6px; margin-top: 8px; }
    .chip{ border:1px solid rgba(255,255,255,0.12); background: rgba(255,255,255,0.05); border-radius: 999px; padding: 4px 8px; font-size: 12px; }

    .subtle{ opacity:0.8; font-size: 13px; }
  </style>
</head>
<body>

  <!-- Popover menu (r√©utilis√© par viewer.menu.js si tu veux) -->
  <div id="topMenuPopover" class="menu-popover hidden"></div>

  <!-- PAGE VIEWER -->
  <div id="page-viewer">

    <!-- üîû AGE GATE -->
    <div id="age-gate" style="display:none;">
      <div class="age-box">
        <h2>üîû Contenu r√©serv√© aux adultes</h2>
        <p>
          Ce site contient des images et contenus destin√©s √† un public majeur.<br>
          En continuant, vous confirmez avoir <strong>18 ans ou plus</strong>.
        </p>
        <button id="age-yes">J‚Äôai 18 ans</button>
        <button id="age-no">Quitter</button>
      </div>
    </div>

    <header class="topbar" role="banner">
      <div class="top-title-row top-title-flex">
        <button id="hamburgerBtnViewer" class="hamburger-btn" type="button"
                aria-label="Menu" title="Menu" aria-expanded="false">
          <span class="ham-lines" aria-hidden="true"><span></span><span></span><span></span></span>
        </button>

        <h1 id="viewerTitle">Traductions ‚Äî Multi-traducteurs</h1>

        <div id="topTitleTools" class="top-title-tools">
          <span class="total-inline">Total : <strong id="countTotal">0</strong></span>

          <select id="cols" title="Vignettes par ligne">
            <option value="auto">Vignettes/ligne : Auto</option>
            <option value="2">2 par ligne</option>
            <option value="3">3 par ligne</option>
            <option value="4">4 par ligne</option>
            <option value="5">5 par ligne</option>
            <option value="6">6 par ligne</option>
          </select>

          <select id="pageSize" title="Affichage progressif">
            <option value="50">Afficher par 50</option>
            <option value="100">Afficher par 100</option>
            <option value="all">Tout afficher</option>
          </select>
        </div>
      </div>

      <div class="top-actions">
        <div class="search-wrap">
          <input id="search" type="search" placeholder="Rechercher un jeu." autocomplete="off" />
        </div>

        <select id="sort" title="Trier">
          <option value="updatedAtLocal-desc">Date de traduction (max)</option>
          <option value="title-asc">Titre A‚ÜíZ</option>
          <option value="title-desc">Titre Z‚ÜíA</option>
        </select>

        <button id="refresh" class="btn" type="button" title="Recharger">‚Üª</button>
      </div>
    </header>

    <main class="wrap">
      <div id="grid" class="grid"></div>
      <div id="moreWrap" class="more-wrap" style="display:none;">
        <button id="more" class="btn" type="button">Afficher plus</button>
      </div>
      <div id="empty" class="empty" style="display:none;">Aucun r√©sultat.</div>
    </main>
  </div>


  <!-- PAGE GAME (choix traducteur) -->
  <div id="page-game">
    <div class="wrap">
      <div class="cardPreview">
        <div class="cardInner">
          <div class="headRow" style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;">
            <a id="backToList" class="btn-mini" href="/liste/" title="Retour">‚Üê Retour</a>
            <div style="flex:1;min-width:220px;">
              <div id="gTitle" class="game-title" style="font-size:18px;font-weight:800;">Jeu</div>
              <div id="gSub" class="subtle">Choisis un traducteur pour ouvrir sa page.</div>
            </div>
            <a id="openF95" class="btn-mini" href="#" target="_blank" rel="noopener">üåê F95Zone</a>
          </div>

          <div class="chips" id="gChips"></div>

          <div class="tgrid" id="tgrid"></div>

          <div class="infoBlock" style="margin-top:14px;">
            <h3>üí° Astuce</h3>
            <div class="subtle">Le d√©tail complet (MEGA, notes, v√©rif F95, likes, etc.) reste dans la page du traducteur ‚Äî ici c‚Äôest juste un s√©lecteur rapide.</div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <script src="/viewer.agegate.js"></script>
  <script src="/viewer.menu.extension.js"></script>
  <script src="./app.js?v=20260219-1"></script>
</body>
</html>
